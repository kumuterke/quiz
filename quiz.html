<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√∂cek & Mein | Hƒ±zlƒ± A≈ük Testi ‚ö°</title>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@300;600&display=swap" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <style>
        :root { --bg: #121212; --card-bg: #1e1e1e; --text: #fdfbfb; --border: #333; --main-pink: #ff9a9e; --dark-pink: #d63384; }
        body.light-mode { --bg: #fff5f7; --card-bg: #ffffff; --text: #444; --border: #f0f0f0; }
        body { font-family: 'Poppins', sans-serif; background: var(--bg); margin: 0; padding: 15px; color: var(--text); transition: 0.3s; min-height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .quiz-card { background: var(--card-bg); padding: 25px; border-radius: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); text-align: center; width: 100%; max-width: 500px; position: relative; border: 1px solid var(--border); }
        .theme-btn { position: absolute; top: 15px; right: 15px; background: var(--border); border: none; border-radius: 50%; width: 35px; height: 35px; cursor: pointer; color: var(--text); font-size: 1.2rem; }
        h2 { font-family: 'Pacifico'; color: var(--main-pink); font-size: 2rem; margin-bottom: 5px; margin-top: 0; }
        small { display: block; opacity: 0.6; margin-bottom: 20px; font-size: 0.8rem; }
        .progress-container { width: 100%; background: var(--border); height: 8px; border-radius: 10px; margin-bottom: 25px; overflow: hidden; }
        .progress-bar { height: 100%; background: linear-gradient(90deg, var(--main-pink), var(--dark-pink)); width: 0%; transition: 0.4s; }
        .q-text { font-weight: 600; font-size: 1.2rem; margin-bottom: 30px; display: block; min-height: 50px; line-height: 1.4; }
        .options-grid { display: grid; grid-template-columns: 1fr; gap: 12px; }
        .opt { background: var(--card-bg); border: 2px solid var(--border); border-radius: 15px; padding: 15px; cursor: pointer; transition: 0.2s; font-weight: 500; color: var(--text); font-size: 0.95rem; user-select: none; text-align: center; }
        .correct { background: #1b4332 !important; border-color: #2ecc71 !important; color: #fff !important; }
        .wrong { background: #5a1a1a !important; border-color: #e74c3c !important; color: #fff !important; }
        #next-btn { display: none; background: var(--dark-pink); color: white; border: none; padding: 15px 40px; border-radius: 50px; cursor: pointer; margin-top: 30px; font-weight: 600; font-size: 1rem; width: 100%; }
        #result { display: none; padding: 20px; }
        .confetti { font-size: 3rem; margin-bottom: 10px; display: block; }
    </style>
</head>
<body>

<div class="quiz-card">
    <button class="theme-btn" onclick="document.body.classList.toggle('light-mode')">üåì</button>
    <div id="quiz-area">
        <h2>A≈ük Testi ‚ú®</h2>
        <small id="stats">Soru 1 / 5</small>
        <div class="progress-container"><div class="progress-bar" id="fill"></div></div>
        <span class="q-text" id="q-text">Sorular y√ºkleniyor...</span>
        <div class="options-grid" id="options"></div>
        <button id="next-btn" onclick="nextQuestion()">Sƒ±radaki Soru üëâ</button>
    </div>
    <div id="result"></div>
</div>

<script>
    const firebaseConfig = { apiKey: "AIzaSyBnCvyBVmQgEs4hl94K-WBYCWVpeJR9PtA", authDomain: "minatyler-b7212.firebaseapp.com", databaseURL: "https://minatyler-b7212-default-rtdb.europe-west1.firebasedatabase.app", projectId: "minatyler-b7212", storageBucket: "minatyler-b7212.firebasestorage.app", messagingSenderId: "599344339158", appId: "1:599344339158:web:11e6083e5d56ffae91d177" };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    const masterPool = [
        { q: "Bizim 'Miladƒ±mƒ±z' (sevgili olduƒüumuz g√ºn) hangisi? ‚ù§Ô∏è", a: ["7 Ocak 2026", "1 Ocak 2026", "27 Ocak 2026", "8 Aralƒ±k 2025"], c: 0 },
        { q: "ƒ∞lk g√∂r√ºnt√ºl√º konu≈ümamƒ±z (31 Aralƒ±k) ka√ß dakika s√ºrd√º? üìû", a: ["5 Dakika", "30 Dakika", "1 Saat", "15 Dakika"], c: 0 },
        { q: "102 dakikalƒ±k o me≈ühur rekor konu≈üma hangi tarihteydi? üìû", a: ["27 Ocak", "7 Ocak", "1 Ocak", "8 Aralƒ±k"], c: 0 },
        { q: "B√∂cek'in doƒüduƒüu ay hangisidir? üêõ", a: ["Mart", "Ekim", "Ocak", "Nisan"], c: 0 },
        { q: "Mina'nƒ±n (Mein) doƒüduƒüu ay hangisidir? üéÇ", a: ["Ekim", "Mart", "Haziran", "Aralƒ±k"], c: 0 },
        { q: "B√∂cek ≈üu an tam olarak hangi Alman ≈üehrinde ya≈üƒ±yor? üá©üá™", a: ["Augsburg", "M√ºnih", "Berlin", "Frankfurt"], c: 0 },
        { q: "Mina (Mein) ≈üu an hangi ≈üehirde bulunuyor? üáπüá∑", a: ["Ankara", "ƒ∞stanbul", "ƒ∞zmir", "Bursa"], c: 0 },
        { q: "Kavu≈ümamƒ±z i√ßin belirlediƒüimiz hedef tarih? ‚úàÔ∏è", a: ["6 ≈ûubat 2026", "14 ≈ûubat", "1 Mart", "Yazƒ±n"], c: 0 },
        { q: "B√∂cek Augsburg'da en √ßok neyi √∂zl√ºyor? (Sen hari√ß!) üòã", a: ["Yemekleri", "ƒ∞nterneti", "Havayƒ±", "Uykuyu"], c: 0 },
        { q: "B√∂cek'in paneldeki adƒ± nedir? üõ†Ô∏è", a: ["B√∂cek OS", "Tyler Admin", "Mein's Love", "Augsburg King"], c: 0 },
        { q: "Gece 12'den sonra hangi emojiler a√ßƒ±lƒ±r? üîû", a: ["Sapƒ±k Emojiler", "Uyku Emojileri", "Yemek Emojileri", "√úzg√ºn Emojiler"], c: 0 }
    ];

    function shuffle(array) { return array.sort(() => Math.random() - 0.5); }

    function prepareQuestions() {
        const selected = shuffle([...masterPool]).slice(0, 5); // Sadece 5 soru
        return selected.map(q => {
            const correctText = q.a[q.c];
            const shuffledA = shuffle([...q.a]);
            return { q: q.q, a: shuffledA, c: shuffledA.indexOf(correctText) };
        });
    }

    let activeQuiz = prepareQuestions();
    let current = 0;
    let score = 0;

    function load() {
        if(current >= activeQuiz.length) return showResult();
        const q = activeQuiz[current];
        document.getElementById("stats").innerText = `Soru ${current + 1} / 5`;
        document.getElementById("fill").style.width = (current / 5 * 100) + "%";
        document.getElementById("q-text").innerText = q.q;
        const opts = document.getElementById("options");
        opts.innerHTML = "";
        q.a.forEach((o, i) => {
            const d = document.createElement("div");
            d.className = "opt";
            d.innerText = o;
            d.onclick = () => check(i, d);
            opts.appendChild(d);
        });
        document.getElementById("next-btn").style.display = "none";
    }

    function check(i, el) {
        const correct = activeQuiz[current].c;
        const allOpts = document.querySelectorAll(".opt");
        allOpts.forEach(btn => btn.style.pointerEvents = "none");
        if(i === correct) {
            el.classList.add("correct");
            score++;
            db.ref('kisses/Mina').transaction(c => (c || 0) + 1);
        } else {
            el.classList.add("wrong");
            allOpts[correct].classList.add("correct");
        }
        document.getElementById("next-btn").style.display = "block";
    }

    function nextQuestion() { current++; load(); }

    function showResult() {
        document.getElementById("quiz-area").style.display = "none";
        const r = document.getElementById("result");
        r.style.display = "block";
        r.innerHTML = `
            <span class="confetti">üéâ</span>
            <h2 style="font-size:2.5rem;">Test Bitti!</h2>
            <p style="font-size:1.5rem; font-weight:bold; color:var(--main-pink);">Skorun: ${score} / 5</p>
            <p>${score === 5 ? "Sen ger√ßek bir a≈üƒ±ksƒ±n! ‚ù§Ô∏è" : "Biraz daha pratik lazƒ±m üòâ"}</p>
            <button class="opt" style="width:100%; margin-top:20px; background:var(--dark-pink); color:white; border:none;" onclick="location.reload()">Tekrar Dene üîÑ</button>
        `;
    }
    load();
</script>
</body>
</html>
